{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { CSVReader } from 'react-papaparse';\nimport { Button } from '@shopify/polaris';\nimport Axios from 'axios';\n\nvar CsvUploader =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CsvUploader, _React$Component);\n\n  function CsvUploader(props) {\n    var _this;\n\n    _classCallCheck(this, CsvUploader);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CsvUploader).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleReadCSV\", function (data) {\n      Axios({\n        url: '/admin/api/2019-07/products.json',\n        method: \"POST\",\n        headers: {\n          'Access-Control-Allow-Origin': 'https://e171878b.ngrok.io'\n        },\n        data: data\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnError\", function (err, file, inputElem, reason) {\n      console.log(err);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleUpload\", function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        file: _this.fileInput.file\n      });\n\n      console.log(file);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleImportOffer\", function () {\n      _this.fileInput.current.click();\n    });\n\n    _this.fileInput = React.createRef();\n    _this.state = {\n      file: ''\n    };\n    return _this;\n  }\n\n  _createClass(CsvUploader, [{\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", null, __jsx(CSVReader, {\n        onFileLoaded: this.handleReadCSV,\n        inputRef: this.fileInput,\n        style: {\n          display: 'none'\n        },\n        onError: this.handleOnError,\n        configOptions: {\n          header: true\n        }\n      }), __jsx(Button, {\n        primary: true,\n        onClick: this.handleImportOffer\n      }, \"Import\"), __jsx(\"br\", null));\n    }\n  }]);\n\n  return CsvUploader;\n}(React.Component);\n\nexport default CsvUploader;","map":{"version":3,"sources":["/Users/office/Aweys/pointer-shopify-app/pointer-app/pages/csvUploader.js"],"names":["React","CSVReader","Button","Axios","CsvUploader","props","data","url","method","headers","err","file","inputElem","reason","console","log","e","preventDefault","setState","fileInput","current","click","createRef","state","handleReadCSV","display","handleOnError","header","handleImportOffer","Component"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACC,SAASC,SAAT,QAA0B,iBAA1B;AACA,SAAQC,MAAR,QAAqB,kBAArB;AACD,OAAOC,KAAP,MAAkB,OAAlB;;IAEMC,W;;;;;AACJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;;AADiB,oEAQH,UAACC,IAAD,EAAU;AACxBH,MAAAA,KAAK,CAAC;AACJI,QAAAA,GAAG,EAAE,kCADD;AAEJC,QAAAA,MAAM,EAAE,MAFJ;AAGFC,QAAAA,OAAO,EAAE;AACP,yCAA8B;AADvB,SAHP;AAOJH,QAAAA,IAAI,EAAEA;AAPF,OAAD,CAAL;AASD,KAlBkB;;AAAA,oEAoBH,UAACI,GAAD,EAAMC,IAAN,EAAYC,SAAZ,EAAuBC,MAAvB,EAAkC;AAChDC,MAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ;AACD,KAtBkB;;AAAA,mEAwBJ,UAACM,CAAD,EAAO;AACpBA,MAAAA,CAAC,CAACC,cAAF;;AACA,YAAKC,QAAL,CAAc;AAACP,QAAAA,IAAI,EAAE,MAAKQ,SAAL,CAAeR;AAAtB,OAAd;;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACD,KA5BkB;;AAAA,wEA8BC,YAAM;AACxB,YAAKQ,SAAL,CAAeC,OAAf,CAAuBC,KAAvB;AACD,KAhCkB;;AAEjB,UAAKF,SAAL,GAAiBnB,KAAK,CAACsB,SAAN,EAAjB;AACA,UAAKC,KAAL,GAAa;AACXZ,MAAAA,IAAI,EAAE;AADK,KAAb;AAHiB;AAMlB;;;;6BA4BQ;AACP,aACE,mBACE,MAAC,SAAD;AACE,QAAA,YAAY,EAAE,KAAKa,aADrB;AAEE,QAAA,QAAQ,EAAE,KAAKL,SAFjB;AAGE,QAAA,KAAK,EAAE;AAACM,UAAAA,OAAO,EAAE;AAAV,SAHT;AAIE,QAAA,OAAO,EAAE,KAAKC,aAJhB;AAKE,QAAA,aAAa,EAAE;AAACC,UAAAA,MAAM,EAAE;AAAT;AALjB,QADF,EAQE,MAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,IAAjB;AAAuB,QAAA,OAAO,EAAE,KAAKC;AAArC,kBARF,EASE,iBATF,CADF;AAaD;;;;EAjDuB5B,KAAK,CAAC6B,S;;AAoDhC,eAAezB,WAAf","sourcesContent":["import React from 'react';\n import { CSVReader } from 'react-papaparse';\n import {Button} from '@shopify/polaris';\nimport Axios from 'axios';\n\nclass CsvUploader extends React.Component {\n  constructor(props) {\n    super(props);\n    this.fileInput = React.createRef();\n    this.state = {\n      file: ''\n    }\n  }\n \n  handleReadCSV = (data) => {\n    Axios({\n      url: '/admin/api/2019-07/products.json',\n      method: \"POST\",\n        headers: {\n          'Access-Control-Allow-Origin':'https://e171878b.ngrok.io'\n        },\n\n      data: data\n    })\n  }\n \n  handleOnError = (err, file, inputElem, reason) => {\n    console.log(err);\n  }\n\n  handleUpload = (e) => {\n    e.preventDefault();\n    this.setState({file: this.fileInput.file})\n    console.log(file)\n  }\n \n  handleImportOffer = () => {\n    this.fileInput.current.click();\n  }\n \n  render() {\n    return (\n      <div>\n        <CSVReader\n          onFileLoaded={this.handleReadCSV}\n          inputRef={this.fileInput}\n          style={{display: 'none'}}\n          onError={this.handleOnError}\n          configOptions={{header: true}}\n        />\n        <Button primary={true} onClick={this.handleImportOffer}>Import</Button>\n        <br />\n      </div>\n    );\n  }\n}\n \nexport default CsvUploader;"]},"metadata":{},"sourceType":"module"}