{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { CSVReader } from 'react-papaparse';\nimport { Button } from '@shopify/polaris';\nimport Axios from 'axios';\n\nclass CsvUploader extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleReadCSV\", data => {\n      Axios({\n        url: '/admin/api/2019-07/products.json',\n        method: \"POST\",\n        headers: {\n          'Access-Control-Allow-Origin': 'https://e171878b.ngrok.io'\n        },\n        data: data\n      });\n    });\n\n    _defineProperty(this, \"handleOnError\", (err, file, inputElem, reason) => {\n      console.log(err);\n    });\n\n    _defineProperty(this, \"handleUpload\", e => {\n      e.preventDefault();\n      this.setState({\n        file: this.fileInput.file\n      });\n      console.log(file);\n    });\n\n    _defineProperty(this, \"handleImportOffer\", () => {\n      this.fileInput.current.click();\n    });\n\n    this.fileInput = React.createRef();\n    this.state = {\n      file: ''\n    };\n  }\n\n  render() {\n    return __jsx(\"div\", null, __jsx(CSVReader, {\n      onFileLoaded: this.handleReadCSV,\n      inputRef: this.fileInput,\n      style: {\n        display: 'none'\n      },\n      onError: this.handleOnError,\n      configOptions: {\n        header: true\n      }\n    }), __jsx(Button, {\n      primary: true,\n      onClick: this.handleImportOffer\n    }, \"Import\"), __jsx(\"br\", null));\n  }\n\n}\n\nexport default CsvUploader;","map":{"version":3,"sources":["/Users/office/Aweys/pointer-shopify-app/pointer-app/pages/csvUploader.js"],"names":["React","CSVReader","Button","Axios","CsvUploader","Component","constructor","props","data","url","method","headers","err","file","inputElem","reason","console","log","e","preventDefault","setState","fileInput","current","click","createRef","state","render","handleReadCSV","display","handleOnError","header","handleImportOffer"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACC,SAASC,SAAT,QAA0B,iBAA1B;AACA,SAAQC,MAAR,QAAqB,kBAArB;AACD,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAN,SAA0BJ,KAAK,CAACK,SAAhC,CAA0C;AACxCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,2CAQFC,IAAD,IAAU;AACxBL,MAAAA,KAAK,CAAC;AACJM,QAAAA,GAAG,EAAE,kCADD;AAEJC,QAAAA,MAAM,EAAE,MAFJ;AAGFC,QAAAA,OAAO,EAAE;AACP,yCAA8B;AADvB,SAHP;AAOJH,QAAAA,IAAI,EAAEA;AAPF,OAAD,CAAL;AASD,KAlBkB;;AAAA,2CAoBH,CAACI,GAAD,EAAMC,IAAN,EAAYC,SAAZ,EAAuBC,MAAvB,KAAkC;AAChDC,MAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ;AACD,KAtBkB;;AAAA,0CAwBHM,CAAD,IAAO;AACpBA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKC,QAAL,CAAc;AAACP,QAAAA,IAAI,EAAE,KAAKQ,SAAL,CAAeR;AAAtB,OAAd;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACD,KA5BkB;;AAAA,+CA8BC,MAAM;AACxB,WAAKQ,SAAL,CAAeC,OAAf,CAAuBC,KAAvB;AACD,KAhCkB;;AAEjB,SAAKF,SAAL,GAAiBrB,KAAK,CAACwB,SAAN,EAAjB;AACA,SAAKC,KAAL,GAAa;AACXZ,MAAAA,IAAI,EAAE;AADK,KAAb;AAGD;;AA4BDa,EAAAA,MAAM,GAAG;AACP,WACE,mBACE,MAAC,SAAD;AACE,MAAA,YAAY,EAAE,KAAKC,aADrB;AAEE,MAAA,QAAQ,EAAE,KAAKN,SAFjB;AAGE,MAAA,KAAK,EAAE;AAACO,QAAAA,OAAO,EAAE;AAAV,OAHT;AAIE,MAAA,OAAO,EAAE,KAAKC,aAJhB;AAKE,MAAA,aAAa,EAAE;AAACC,QAAAA,MAAM,EAAE;AAAT;AALjB,MADF,EAQE,MAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,IAAjB;AAAuB,MAAA,OAAO,EAAE,KAAKC;AAArC,gBARF,EASE,iBATF,CADF;AAaD;;AAjDuC;;AAoD1C,eAAe3B,WAAf","sourcesContent":["import React from 'react';\n import { CSVReader } from 'react-papaparse';\n import {Button} from '@shopify/polaris';\nimport Axios from 'axios';\n\nclass CsvUploader extends React.Component {\n  constructor(props) {\n    super(props);\n    this.fileInput = React.createRef();\n    this.state = {\n      file: ''\n    }\n  }\n \n  handleReadCSV = (data) => {\n    Axios({\n      url: '/admin/api/2019-07/products.json',\n      method: \"POST\",\n        headers: {\n          'Access-Control-Allow-Origin':'https://e171878b.ngrok.io'\n        },\n\n      data: data\n    })\n  }\n \n  handleOnError = (err, file, inputElem, reason) => {\n    console.log(err);\n  }\n\n  handleUpload = (e) => {\n    e.preventDefault();\n    this.setState({file: this.fileInput.file})\n    console.log(file)\n  }\n \n  handleImportOffer = () => {\n    this.fileInput.current.click();\n  }\n \n  render() {\n    return (\n      <div>\n        <CSVReader\n          onFileLoaded={this.handleReadCSV}\n          inputRef={this.fileInput}\n          style={{display: 'none'}}\n          onError={this.handleOnError}\n          configOptions={{header: true}}\n        />\n        <Button primary={true} onClick={this.handleImportOffer}>Import</Button>\n        <br />\n      </div>\n    );\n  }\n}\n \nexport default CsvUploader;"]},"metadata":{},"sourceType":"module"}